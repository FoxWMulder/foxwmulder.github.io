---
Type of note:
Category: Delphi
title: Получить список папок в указанном каталоге
Source:
  - http://www.programmersforum.ru/showthread.php?t=7478
  - https://www.cyberforum.ru/delphi-beginners/thread1028415.html
Framework:
  - VCL
Platform:
  - Windows
Tags:
  - delphi/files
  - delphi/search
Local copy:
  - "[Имена каталогов и подкаталогов](../../Archive%20of%20web%20pages/Files/Имена%20каталогов%20и%20подкаталогов%20-%20Общие%20вопросы%20Delphi%20-%20Форум%20программистов.mhtml)"
  - "[Получить список всех папок, включая системные, скрытые и т.д.](../../Archive%20of%20web%20pages/Files/Получить%20список%20всех%20папок,%20включая%20системные,%20скрытые%20и%20т.д.%20-%20Файловая%20система%20-%20Все%20о%20Delphi%20-%20Форум%20по%20Delphi%20программированию.mhtml)"
  - "[Как получить список файлов и папок в директории](../../Archive%20of%20web%20pages/Files/Как%20получить%20список%20файлов%20и%20папок%20в%20директории%20-%20Delphi%20-%20Киберфорум.mhtml)"
Share: true
---
  
  
```ad-desc  
collapse: none  
  
Получение списка папок в указанном каталоге  
  
```  
  
```ad-code  
collapse: none  
title: Получение списка папок в указанном каталоге  
  
```pascal  
var  
  SR: TSearchRec;  
begin  
if FindFirst('C:\*.*', faAnyFile, SR) = 0 then begin  
 repeat  
  if (SR.Attr = faDirectory) and (SR.Name <> '.') and (SR.Name <> '..') then begin  
    Memo1.Lines.Add(SR.Name);  
  end;  
 until FindNext(SR) <> 0;  
 FindClose(SR);  
end;  
```  
  
```ad-code  
collapse: none  
title: Получение списка папок в указанном каталоге и подкаталогах  
  
```pascal  
procedure FindIt(path, ext: string; aListBox: TListBox;  
  spaces: boolean = false; level: integer = 0);  
var  
  SR: TSearchRec;  
  s: string;  
  i: integer;  
begin  
if FindFirst(Path+Ext, faAnyFile, SR) = 0 then  
  begin  
    repeat  
    if (SR.Attr = faDirectory) then  
      if (SR.Name <> '.') and (SR.Name <> '..') then  
        begin  
        s:='';  
        for i:=0 to level-1 do  
          s:=s+'    ';  
        aListBox.Items.Add(s+SR.Name);  
        Inc(level);  
        if spaces then  
          FindIt(Path+sr.Name+'\',ext,aListBox,true,level)  
        else  
          FindIt(Path+sr.Name+'\',ext,aListBox);  
        Dec(level);  
        end;  
    until FindNext(SR) <> 0;  
    FindClose(SR);  
  end;  
end;  
  
...  
  
FindIt('C:\Vivaldi\','*.*', ListBox1); //выводит просто список  
FindIt('C:\','*.*', ListBox1,true); //выводит список со смещением, так что видна вложенность папок  
```  
  
```ad-remark  
  
1. Не выводит системные и скрытые папки (но возможности функции большие, есть разные атрибуты, есть получение и системных папок).  
2. При больших объёмах чувствуется большое время получения готового списка. Программа в это время "не отвечает".  
  
```  
  
```ad-simcom  
title: See also  
  
  
```